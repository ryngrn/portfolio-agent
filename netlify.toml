[build]
  command = "npm run build"
  publish = ".next"

[[plugins]]
  package = "@netlify/plugin-nextjs"

[build.environment]
  NODE_VERSION = "18"
  OPENAI_MODEL = "gpt-4o-mini"
  OPENAI_EMBEDDING_MODEL = "text-embedding-3-small"

[functions]
  # ðŸ‘‡ this makes sure the file is inside the function zip at runtime
  included_files = ["data/embeddings.json"]

[[headers]]
  for = "/agent"
  [headers.values]
    Content-Security-Policy = "frame-ancestors https://www.ryan.green https://ryan.green;"
    X-Content-Type-Options = "nosniff"
